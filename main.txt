-- FalseHub UI — executor-ready full script with per-tab keys
local TweenService = game:GetService("TweenService")
local UserInputService = game:GetService("UserInputService")
local HttpService = game:GetService("HttpService")
local CoreGui = game:GetService("CoreGui")

local UI_SCALE = 1
local webhookUrl = "" -- Discord webhook (оставьте "" чтобы отключить)

-- Safe webhook
local function safeSendWebhook(text)
    if webhookUrl == nil or webhookUrl == "" then return end
    spawn(function()
        pcall(function()
            HttpService:PostAsync(webhookUrl, HttpService:JSONEncode({content=text}), Enum.HttpContentType.ApplicationJson)
        end)
    end)
end

-- Remove old GUI
for _, v in pairs(CoreGui:GetChildren()) do
    if v.Name == "FalseHub_ExecutorUI" then v:Destroy() end
end

-- ScreenGui
local screenGui = Instance.new("ScreenGui")
screenGui.Name = "FalseHub_ExecutorUI"
screenGui.ResetOnSpawn = false
screenGui.IgnoreGuiInset = true
screenGui.Parent = CoreGui

local function makeCorner(parent, radius)
    local c = Instance.new("UICorner")
    c.CornerRadius = UDim.new(0, radius or 8)
    c.Parent = parent
    return c
end

-- Tray icon
local tray = Instance.new("TextButton")
tray.Size = UDim2.new(0,40*UI_SCALE,0,40*UI_SCALE)
tray.Position = UDim2.new(1,-50*UI_SCALE,1,-50*UI_SCALE)
tray.BackgroundColor3 = Color3.fromRGB(45,45,45)
tray.Text = "F"
tray.Font = Enum.Font.GothamBold
tray.TextSize = 22*UI_SCALE
tray.TextColor3 = Color3.fromRGB(230,230,230)
tray.Parent = screenGui
makeCorner(tray,20)
tray.Active = true
tray.AutoButtonColor = true

-- Main frame
local mainFrame = Instance.new("Frame")
mainFrame.Size = UDim2.new(0,520*UI_SCALE,0,320*UI_SCALE)
mainFrame.Position = UDim2.new(0.5,-260*UI_SCALE,0.5,-160*UI_SCALE)
mainFrame.BackgroundColor3 = Color3.fromRGB(35,35,35)
mainFrame.BorderSizePixel = 0
mainFrame.Visible = false
mainFrame.Active = true
mainFrame.Selectable = true
mainFrame.Parent = screenGui
makeCorner(mainFrame,14)

-- Header
local header = Instance.new("Frame")
header.Size = UDim2.new(1,0,0,44*UI_SCALE)
header.BackgroundColor3 = Color3.fromRGB(30,30,30)
header.Parent = mainFrame
makeCorner(header,12)

local title = Instance.new("TextLabel")
title.Size = UDim2.new(0.7,0,1,0)
title.Position = UDim2.new(0,12*UI_SCALE,0,0)
title.BackgroundTransparency = 1
title.Text = "FalseHub"
title.Font = Enum.Font.GothamBold
title.TextSize = 20*UI_SCALE
title.TextColor3 = Color3.fromRGB(230,230,230)
title.TextXAlignment = Enum.TextXAlignment.Left
title.Parent = header

local collapseBtn = Instance.new("TextButton")
collapseBtn.Size = UDim2.new(0,34*UI_SCALE,0,30*UI_SCALE)
collapseBtn.Position = UDim2.new(1,-46*UI_SCALE,0,7*UI_SCALE)
collapseBtn.BackgroundColor3 = Color3.fromRGB(50,50,50)
collapseBtn.Text = "—"
collapseBtn.Font = Enum.Font.GothamBold
collapseBtn.TextSize = 20*UI_SCALE
collapseBtn.TextColor3 = Color3.fromRGB(230,230,230)
collapseBtn.Parent = header
makeCorner(collapseBtn,8)
collapseBtn.Active = true
collapseBtn.AutoButtonColor = true

local closeBtn = Instance.new("TextButton")
closeBtn.Size = UDim2.new(0,34*UI_SCALE,0,30*UI_SCALE)
closeBtn.Position = UDim2.new(1,-90*UI_SCALE,0,7*UI_SCALE)
closeBtn.BackgroundColor3 = Color3.fromRGB(50,50,50)
closeBtn.Text = "×"
closeBtn.Font = Enum.Font.GothamBold
closeBtn.TextSize = 18*UI_SCALE
closeBtn.TextColor3 = Color3.fromRGB(230,230,230)
closeBtn.Parent = header
makeCorner(closeBtn,8)
closeBtn.Active = true
closeBtn.AutoButtonColor = true

-- Left panel
local leftPanel = Instance.new("Frame")
leftPanel.Size = UDim2.new(0,180*UI_SCALE,0,276*UI_SCALE)
leftPanel.Position = UDim2.new(0,12*UI_SCALE,0,44*UI_SCALE+12*UI_SCALE)
leftPanel.BackgroundColor3 = Color3.fromRGB(45,45,45)
leftPanel.Parent = mainFrame
makeCorner(leftPanel,12)
leftPanel.Active = true
leftPanel.Selectable = true

-- Right panel
local rightPanel = Instance.new("Frame")
rightPanel.Size = UDim2.new(1,-(12*2+180)*UI_SCALE,0,276*UI_SCALE)
rightPanel.Position = UDim2.new(0,12*UI_SCALE+180*UI_SCALE+12*UI_SCALE,0,44*UI_SCALE+12*UI_SCALE)
rightPanel.BackgroundColor3 = Color3.fromRGB(50,50,50)
rightPanel.Parent = mainFrame
makeCorner(rightPanel,12)
rightPanel.Active = true
rightPanel.Selectable = true

-- Description
local description = Instance.new("TextLabel")
description.Size = UDim2.new(1,-20*UI_SCALE,0,160*UI_SCALE)
description.Position = UDim2.new(0,10*UI_SCALE,0,10*UI_SCALE)
description.BackgroundTransparency = 1
description.Text = "Select a script..."
description.Font = Enum.Font.Gotham
description.TextSize = 16*UI_SCALE
description.TextColor3 = Color3.fromRGB(220,220,220)
description.TextWrapped = true
description.TextXAlignment = Enum.TextXAlignment.Left
description.TextYAlignment = Enum.TextYAlignment.Top
description.Parent = rightPanel

-- Inject button
local injectBtn = Instance.new("TextButton")
injectBtn.Size = UDim2.new(0,160*UI_SCALE,0,36*UI_SCALE)
injectBtn.Position = UDim2.new(1,-170*UI_SCALE,1,-46*UI_SCALE)
injectBtn.BackgroundColor3 = Color3.fromRGB(65,65,65)
injectBtn.Text = "Inject"
injectBtn.Font = Enum.Font.GothamBold
injectBtn.TextSize = 16*UI_SCALE
injectBtn.TextColor3 = Color3.fromRGB(240,240,240)
injectBtn.Visible = false
injectBtn.Parent = rightPanel
makeCorner(injectBtn,10)
injectBtn.Active = true
injectBtn.AutoButtonColor = true
injectBtn.ZIndex = 5

injectBtn.MouseButton1Click:Connect(function()
    loadstring(game:HttpGet("https://raw.githubusercontent.com/Sarex654/kitri/refs/heads/main/load.txt"))()
    print("[FalseHub] Inject true")
    safeSendWebhook("Inject clicked by user.")
    showNotification("Inject executed successfully!", 3)
end)

-- Buttons with keys
local buttonsInfo = {
    {Name="Forsaken", Desc="Forsaken description", Key="111"},
    {Name="Steal a Brainrot", Desc="Steal a Brainrot description", Key="222"},
    {Name="MM2", Desc="MM2 description", Key="333"},
    {Name="99 Nights", Desc="99 Nights description", Key="444"},
}

local leftButtons = {}
local unlockedTabs = {}

local function showKeyOverlay(tabInfo, onSuccess)
    local overlay = Instance.new("Frame")
    overlay.Size = UDim2.new(0,360*UI_SCALE,0,160*UI_SCALE)
    overlay.Position = UDim2.new(0.5,-180*UI_SCALE,0.5,-80*UI_SCALE)
    overlay.BackgroundColor3 = Color3.fromRGB(30,30,30)
    overlay.Parent = screenGui
    makeCorner(overlay,12)
    overlay.Active = true

    local title = Instance.new("TextLabel")
    title.Size = UDim2.new(1,-20*UI_SCALE,0,36*UI_SCALE)
    title.Position = UDim2.new(0,10*UI_SCALE,0,12*UI_SCALE)
    title.BackgroundTransparency = 1
    title.Text = "Enter key for "..tabInfo.Name
    title.Font = Enum.Font.GothamBold
    title.TextSize = 18*UI_SCALE
    title.TextColor3 = Color3.fromRGB(230,230,230)
    title.Parent = overlay

    local keyBox = Instance.new("TextBox")
    keyBox.Size = UDim2.new(1,-40*UI_SCALE,0,36*UI_SCALE)
    keyBox.Position = UDim2.new(0,10*UI_SCALE,0,58*UI_SCALE)
    keyBox.BackgroundColor3 = Color3.fromRGB(45,45,45)
    keyBox.PlaceholderText = "Enter key..."
    keyBox.Font = Enum.Font.Gotham
    keyBox.TextSize = 16*UI_SCALE
    keyBox.TextColor3 = Color3.fromRGB(230,230,230)
    keyBox.ClearTextOnFocus = false
    keyBox.Parent = overlay
    makeCorner(keyBox,8)
    keyBox.Active = true

    local submitBtn = Instance.new("TextButton")
    submitBtn.Size = UDim2.new(0,120*UI_SCALE,0,34*UI_SCALE)
    submitBtn.Position = UDim2.new(1,-130*UI_SCALE,1,-46*UI_SCALE)
    submitBtn.BackgroundColor3 = Color3.fromRGB(70,70,70)
    submitBtn.Text = "Submit"
    submitBtn.Font = Enum.Font.GothamBold
    submitBtn.TextSize = 16*UI_SCALE
    submitBtn.TextColor3 = Color3.fromRGB(240,240,240)
    submitBtn.Parent = overlay
    makeCorner(submitBtn,8)
    submitBtn.Active = true
    submitBtn.AutoButtonColor = true

    local keyError = Instance.new("TextLabel")
    keyError.Size = UDim2.new(1,-20*UI_SCALE,0,24*UI_SCALE)
    keyError.Position = UDim2.new(0,10*UI_SCALE,1,-32*UI_SCALE)
    keyError.BackgroundTransparency = 1
    keyError.Text = ""
    keyError.Font = Enum.Font.Gotham
    keyError.TextSize = 14*UI_SCALE
    keyError.TextColor3 = Color3.fromRGB(255,100,100)
    keyError.Parent = overlay

    local function trySubmit()
        if keyBox.Text == tabInfo.Key then
            unlockedTabs[tabInfo.Name] = true
            overlay:Destroy()
            onSuccess()
            safeSendWebhook("Tab unlocked: "..tabInfo.Name)
        else
            keyError.Text = "Invalid key"
            keyBox.Text = ""
            delay(1,function() keyError.Text="" end)
        end
    end

    submitBtn.MouseButton1Click:Connect(trySubmit)
    keyBox.FocusLost:Connect(function(enter)
        if enter then trySubmit() end
    end)

    keyBox:CaptureFocus()
end

for i, info in ipairs(buttonsInfo) do
    local btn = Instance.new("TextButton")
    btn.Size = UDim2.new(1,-20*UI_SCALE,0,42*UI_SCALE)
    btn.Position = UDim2.new(0,10*UI_SCALE,0,(i-1)*(42*UI_SCALE+8*UI_SCALE)+10*UI_SCALE)
    btn.BackgroundColor3 = Color3.fromRGB(60,60,60)
    btn.Text = info.Name
    btn.Font = Enum.Font.GothamBold
    btn.TextSize = 14*UI_SCALE
    btn.TextColor3 = Color3.fromRGB(245,245,245)
    btn.Parent = leftPanel
    makeCorner(btn,8)
    leftButtons[#leftButtons+1] = btn
    btn.Active = true
    btn.AutoButtonColor = true

    btn.MouseButton1Click:Connect(function()
        if unlockedTabs[info.Name] then
            description.Text = info.Desc
            injectBtn.Visible = true
        else
            showKeyOverlay(info,function()
                description.Text = info.Desc
                injectBtn.Visible = true
            end)
        end
    end)
end

-- Tray toggle
tray.MouseButton1Click:Connect(function()
    mainFrame.Visible = not mainFrame.Visible
end)

-- Collapse/expand
local collapsed=false
local originalSize = mainFrame.Size
local originalPosition = mainFrame.Position

collapseBtn.MouseButton1Click:Connect(function()
    if collapsed then
        collapsed=false
        TweenService:Create(mainFrame,TweenInfo.new(0.28,Enum.EasingStyle.Back),{Size=originalSize}):Play()
    else
        collapsed=true
        TweenService:Create(mainFrame,TweenInfo.new(0.28,Enum.EasingStyle.Back),{Size=UDim2.new(0,160*UI_SCALE,0,44*UI_SCALE)}):Play()
    end
end)

closeBtn.MouseButton1Click:Connect(function()
    mainFrame.Visible=false
end)

-- Drag support (mouse + touch)
local dragging=false
local dragInput, startPos, dragStart
local function startDrag(input)
    dragging=true
    dragStart=input.Position
    startPos=mainFrame.Position
    input.Changed:Connect(function()
        if input.UserInputState==Enum.UserInputState.End then dragging=false end
    end)
end

local function updateDrag(input)
    if dragging then
        local delta=input.Position-dragStart
        mainFrame.Position=UDim2.new(startPos.X.Scale,startPos.X.Offset+delta.X,startPos.Y.Scale,startPos.Y.Offset+delta.Y)
    end
end

header.InputBegan:Connect(startDrag)
header.InputChanged:Connect(updateDrag)

-- Notifications
local notif = Instance.new("Frame")
notif.Size = UDim2.new(0,300*UI_SCALE,0,48*UI_SCALE)
notif.Position = UDim2.new(1,-310*UI_SCALE,1,-68*UI_SCALE)
notif.BackgroundColor3 = Color3.fromRGB(28,28,28)
notif.BorderSizePixel=0
notif.Visible=false
notif.Parent=screenGui
makeCorner(notif,10)

local notifText = Instance.new("TextLabel")
notifText.Size=UDim2.new(1,-16*UI_SCALE,1,0)
notifText.Position=UDim2.new(0,8*UI_SCALE,0,0)
notifText.BackgroundTransparency=1
notifText.Font=Enum.Font.Gotham
notifText.TextSize=16*UI_SCALE
notifText.TextColor3=Color3.fromRGB(240,240,240)
notifText.Text="Your executor is not supported"
notifText.Parent=notif

function showNotification(txt,timeSec)
    notifText.Text=txt or "Notification"
    notif.Visible=true
    notif.BackgroundTransparency=1
    notifText.TextTransparency=1
    TweenService:Create(notif,TweenInfo.new(0.18,Enum.EasingStyle.Quad),{BackgroundTransparency=0}):Play()
    TweenService:Create(notifText,TweenInfo.new(0.18,Enum.EasingStyle.Quad),{TextTransparency=0}):Play()
    delay(timeSec or 3,function()
        TweenService:Create(notif,TweenInfo.new(0.18,Enum.EasingStyle.Quad),{BackgroundTransparency=1}):Play()
        TweenService:Create(notifText,TweenInfo.new(0.18,Enum.EasingStyle.Quad),{TextTransparency=1}):Play()
        wait(0.19)
        notif.Visible=false
    end)
end

print("[FalseHub] UI loaded (per-tab keys).")
